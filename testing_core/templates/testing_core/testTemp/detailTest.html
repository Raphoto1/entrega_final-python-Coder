{% extends "main.html" %} {% block header_title %}Detalle Test{% endblock %} {% block title %}Test {{ test.name }}{% endblock %} {% block content %}
<div>
  <div class='m-5'>
  <a href="{% url 'list_tests' %}" class="buttonNeutral ">Volver a lista de tests</a>
  <a href="{% url 'update_test' pk=test.id %}" class='buttonNeutral'>Editar</a>
  </div>
  <p><strong>Nombre:</strong> {{ test.name }}</p>
  <p><strong>App:</strong> {{ test.app.name }}</p>
  <p><strong>Contexto:</strong> {{test.test_context.name}}</p>
  <p><strong>Plataforma:</strong> {{ test.test_platform.name }}</p>
  <p><strong>DescripciÃ³n:</strong> {{ test.description }}</p>
  <p><strong>Cantidad de Preguntas:</strong> {{ test.questions.count }}</p>
  <div class='m-5'>
  <a href="{% url 'detail_make_test' pk=test.id %}" class='buttonMain m-5'>Hacer Test</a>
  <a href="{% url 'update_questions_for_test' test.pk %}" class="btn btn-warning mt-3"> ðŸ”„ Actualizar preguntas del test </a>
  </div>
  <table class="h-64 w-full table-auto">
    <thead>
      <tr>
        <th class="px-4 py-2">Pregunta</th>
        <th class="px-4 py-2">Respuesta Esperada</th>
        <th class="px-4 py-2">Captura de Referencia</th>
      </tr>
    </thead>
    <tbody>
      {% for question in test.questions.all %}

      <tr class="hover:bg-blue-50 transition odd:bg-blue-400">
        <td>{{ question.id }}</td>
        <td>{{ question.questions.question_text }}</td>
        <td>{{ question.questions.spected_answer }}</td>
        {% if question.questions.reference_image %}
        <td><img src="{{ question.questions.reference_image.url }}" alt="Referencia" class="max-w-20 h-auto" /></td>
        {% else %}
        <td>No hay Referencia</td>
        {% endif %}
        <td>
          <form method="post" action="{% url 'delete_test_question' question.pk %}" style="display: inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-danger btn-sm">ðŸ—‘ Eliminar Pregunta</button>
          </form>
        </td>
      </tr>

      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
